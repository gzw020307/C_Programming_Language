## 3.1运算符与表达式

运算符：狭义的运算符是表示各种运算符号

表达式：用运算符和括号将运算对象（常量、变量、函数）连接起来并符合C语言语法规则的式子，称为表达式。

#### 1.主要的C语言运算符有以下几类：

1，算术运算符  /：除法运算 %：求余运算 *：乘法运算或存取指针变量所指向目标变量的内容

![](https://i.loli.net/2021/02/07/sao6cgRYplXq4xF.png)

2，赋值运算符 

3，自增自减运算符 

4，强制类型转换符 

5，关系运算符 

6，逻辑运算符

#### 2.运算符与运算对象（操作数）的关系

1，运算符与运算对象个数的关系分为

单目运算符：！、++ 、--

双目运算符：+、-、*、/、<、>、&&、||

三目运算符：? :(条件运算符)

2，运算符对运算对象数据类型的要求

/：参与运算的操作数均为整数，运算结果为整数，否则结果为实数

%：要求两侧的运算对象必须为整型数据

#### 3.运算符优先级

C语言运算符优先级分为15个级别，从1到15，运算符优先级号越小，对应优先级越高

#### 4.运算符结合性

除单目运算符，赋值运算符和条件运算符是右结合性外，其他都是左结合性。

在求表达式的值时，要从左往右逐步执行

1，当运算对象两侧的运算符优先级不同时，按运算符的优先级高低次序执行

2，当运算对象两侧的运算符优先级相同时，按运算符的结合性执行

## 3.2算术运算

算术运算就是运算对象（操作数）之间的加减乘除以及求余等数学运算

C语言提供了全部基本算数运算符，它们可对C的所有内置数据类型进行运算操作

用算术运算符将运算对象连接起来的合法式子称为算术表达式。

运算对象包括常量，变量，函数等。

在算术表达式中，如果数据的地类型能够转化为高类型，则C语言会进行隐式转换

类型转换规则如下：

1，char型必须先转换为int型

2，short型转换为int型

3，float型数据在运算时一律转换为double型

在不同类型的数据进行操作时，应当首先将其转换成相同的数据类型，然后进行操作，转换规则是由低级向高级转换。

![](https://i.loli.net/2021/02/07/XxSyYo1P3U2NVin.png)

在使用数学函数时，应在该源文件中使用#include<math.h>或#include“math.h”

常见的主要数学库函数

1,求x绝对值

函数名：abs/fabs

函数原型说明：int abs(int x)/double fabs(double x)

2,求x的正余弦，x单位为弧度

函数名：cos/sin

函数原型说明：double cos(double x)/double sin(double x)

3,求不小于/不大于x的最小整数

函数名：ceil/floor

函数原型说明：double ceil(double x)/doubule floor(double x)

4,求x的自然对数/以10为底的对数

函数名：log/log10

函数原型说明：double log(double x)/double log10(double x)

 5,求x的y次方

函数名：pow

函数原型说明：double pow(double x,double y)

6,求x的平方根

函数名：sqrt

函数原型说明：double sqrt(double x)

## 3.3赋值运算

#### 3.3.1赋值运算符

赋值运算的作用是将一个数据赋给一个变量，在C语言中，”=“时赋值运算符，也称简单赋值运算符

（1）简单赋值运算符”=“

一般形式为：变量=表达式

功能：先求”=“号右侧表达式的值，再将这个值存入左侧变量所占的存储单元中，即给变量赋值

（2）复合赋值运算符

1.复合算术运算符：+=，-=，*=，/=，%=

2.复合位运算符:&=,|=,^=,<<=,>>=，分别是按位与，按位或，按位异或，左移位，右移位

复合赋值运算符应用举例：

![](https://i.loli.net/2021/02/07/xEnyjqYUdV7uWiA.png)

#### 3.3.2赋值表达式

由赋值运算符将一个变量和一个表达式连接起来的式子称为赋值表达式。被赋给变量的值就是赋值表达式的值。对赋值表达式求值的过程是：先求赋值运算符右侧的表达式的值，然后赋给运算符左侧的变量。

赋值表达式的应用实例：

![](https://i.loli.net/2021/02/07/cZfiXSvq3amAguP.png)

#### 3.3.3赋值类型转换

在进行赋值运算时，若赋值运算符两侧的运算对象不一致，系统自动将右侧表达式的值转换成左侧变量的类型存到变量所占的存储单元中，转换规则如下:

(1)整型数据与实型数据之间类型转换

​	①整型数据赋给实型变量时，数值上不发生任何变化，但以浮点型数据存储到变量中。

​	②实型数据赋给整型变量时，小数部分将被舍弃。

(2)实型数据之间类型转换

​	①foat数据赋给double变量时，数值不变，有效数据扩展到16位，存储到double变量中。

​	②double数据赋给float变量时,截取前面7位有效数据,存储到
float变量中。

(3)整型数据之间、整型数据与字符型数据之间类型转换

①短(字节数少)的数据赋给长(字节数多)的变量

Ⅰ.短的有符号数据赋给长的变量时,需要进行符号位扩展,将数据赋给变量的低字节。如果数据的符号位为0，则变量的高字节补0;反之，变量的高字节补1，以保持数值不改变。

![](https://i.loli.net/2021/02/07/3DvjxBhGUdr7zli.png)

Ⅱ.短的无符号数据赋给长的变量时， 将数据赋给变量的低字节，高字节补0。

![](https://i.loli.net/2021/02/07/IwZmGfMpDOhB8eJ.png)

②长的数据赋给短的变量时，只将低字节数据原封不动地赋给变量。

![](https://i.loli.net/2021/02/07/j7nMrc8IBm36HkK.png)

③将数据赋给长度相同的变量时,原样赋值。

![](https://i.loli.net/2021/02/07/Zjz2b9XCDpq7O6T.png)

## 3.4自增自减运算及强制类型转换

#### 3.4.1自增自减运算

自增运算符：++

自减运算符：--

++，--属于单目运算符，运算对象只能是变量，优先级为2，结合方向为自右向左，对变量的操作结果是增加1和减少1.

自增自减运算符有两个功能：

(1)取由该运算符构成表达式的值

(2)实现变量(运算对象)自身的加一或减一运算

![](https://i.loli.net/2021/02/07/pzBGEtHLd32suZQ.png)

对于自增自减运算符的使用情况，需要注意

(1)自增自减运算常用于循环语句中，使循环控制变量加1减1，或用于指针变量中，使指针指向下一个地址或上一个地址。

(2)自增自减运算符不能用于常量和表达式，例如：5++，--(a+b)等都是非法表达式。

(3)在表达式中连续使用同一变量进行自增或自减运算时，不同的编译系统处理方法可能不- -样 ,所以最好避免使用如下这种用法，例如: (i++)+(i++)+(i++)

#### 3.4.2强制类型转换

数据的类型转换有<u>隐式类型转换</u>和<u>显式类型转换</u>

进行隐式类型转换

运算转换--不同类型数据混合运算时进行转换，即若参与运算量的类型不同，则先转换成同一类型，然后进行运算。

赋值转换--把一个值赋给与其类型不同的变量时进行转换﹔即等号右边表达式的值的类型自动隐式地转换为左边变量的类型，并赋值给它。

输出转换--输出时转换成指定的输出格式

强制类型转换

强制类型转换是通过类型转换运算来实现的。功能是把表达式的运算结果强制转换成类型说明符所表示的类型。

一般形式为

![](https://i.loli.net/2021/02/07/TcIX9NDzRiSUC2y.png)

强制类型转换例子：

![](https://i.loli.net/2021/02/07/DMc3OCsLnBU4mkA.png)

强制类型转换注意事项

(1)强制转换类型得到的是一个所需类型的中间量，原表达式类型并不发生变化。

例如：int a=3；（double）a； *a的数据类型仍是int型*

(2)如果被转换表达式不是简单表达式时，外边一对圆括号不能省

