## 7.2一维数组的定义和引用

#### 7.2.1一维数组的定义

形式：类型说明符 数组名[常量表达式]；

1.数组名的确定方法同变量名。
2.C语言用方括号[ ]表示数组元素个数。
3.常量表达式为常量和符号常量。不允许有变量,其表达式的值代表了元素的个数。

#### 7.2.2一维数组的引用

1，须像使用变量那样，先定义，后引用
2，引用方式：数组名[下标]，代表了一个元素，等价一个同类型变量
3，一维数组各个元素分配在连续的内存单元中

#### 7.2.3一维数组的存储结构和初始化

1，一维数组的存储结构

C编译系统为所定义的数组元素在内存中分配一片连续的存储单元，各数组元素按数组下标从小到大连续排列，每个元素占用相同的字节数。

由于一维数组是顺序存储在内存中，数组名代表了数组在内存的起始地址，而每个数组元素字节数相同，因此，根据数组元素序号可以求得数组各元素在内存的地址，并实现对数组元素进行随机存取。
2，一维数组的初始化

(1)在定义数组时对所有数组元素赋初值。
例如:int a[5]={3,8,2,4,133;

(2)给数组部分元素赋初值。
例如:int a[5]={7，6};表明只给前2个元素赋初值，即a[0]=7,a[1]=6，其他元素自动赋0值。

(3）对全部元素赋初值时，可以不指定数组长度，C编译系统自动根据初值个数来决定数组长度。
例如:int a[]={1,3,5,7,9,11,13};表示a这个数组有7个元素。

## 7.3一维数组的应用

例∶从键盘上输入5个数，输出最大、最小元素的值以及它们的下标。

代码如下：

```c
#include<stdio.h>
main()
{
	int i,j,k,max,min;
	int a[5];
	for(i=0;i<5;i++)
	scanf("%d",&a[i]);
	max=min=a[0];//假设第一个元素为数组中最大和最小的数
	j=k=0;
	for(i=0;i<5;i++)
	{
		if(max<a[i])
		{
			max=a[i];//将目前数组中最大值赋给max
			j=i;//j为最大值下标
		}
		else if(min>a[i])
		{
			min = a[i];//将目前数组中最小值赋给min
			k=i;//k为最小值下标
		}
	}
	printf("max:a[%d]=%d,min:a[%d]=%d",j,max,k,min);
	return 0;
}
```

## 7.4二维数组的定义与引用

#### 7.4.1二维数组的定义

一般形式：类型说明符 数组名 [常量表达式] [常量表达式]

1，不可将定义写为int a[4,10]。
int a[4] [10];
float x[8] [10];

2，可将二维数组的元素看成为若干个特殊的一位数组。
如: int b[3] [4];
则:有三个特殊的一维数组b[0],b[1],b[2]。每一个又有四个元素:
b[0] [0],b[0] [1],b[0] [2],b[0] [3]
b[1] [0],b[1] [1],b[1] [2],b[1] [3]
b[2] [0],b[2] [1],b[2] [2],b[2] [3]

3，二维数组的存放方式为：按行存放。由此可推广至三维，n维数组的定义和存放。

#### 7.4.2二维数组的引用

形式：数组名[下标] [下标]

其中的下标为整形表达式，但不得越界。
与一维数组元素一样，二维数组元素相当于同类型的简单变量。

例如：

```c
#include<stdio.h>
main()
{
	int a[2][3],j,k;
	printf("Input array a:");
	for(j=0;j<2;j++)
		for(k=0;k<3;k++)
			scanf("%d",&a[j][k]);
		printf("Output array a:\n");
		for(j=0;j<2;j++)
		{
			for(k=0;k<3;k++)
				printf("%4d",a[j][k]);
				printf("\n");
		}

}
```

#### 7.4.3二维数组的存储结构和初始化

1，二维数组的存储结构

系统为数组的内存中分配一片连续的内存空间，将二维数组的各个元素按行的顺序存储在所分配的内存区域。

如有以下定义∶
int a[2] [3];
对数组a，先存储第一行元素:a[0] [0], a[0] [1] .a[0] [2]，再存第二行元素:a[1] [0],a[1] [1],a[1] [2].下图表示出了数组a元素逻辑结构和存储结构。
逻辑结构

![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094711.png)

存储结构

![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094715.png)

2，二维数组的初始化

- 按行给二维数组赋初值：
  int a[3] [4]= {{1,2,3,4},{5,6,7,8},{9,10,11,12}};
  可以去掉其中的{}
- 可以对部分元素赋初值，但需要表达清楚，如：
  int a[3] [4]={{1,2},{3},{8}}。
- 可以通过赋初值决定数组的大小。若为二维，则只可省略第一维的大小
  int a[] [4]={1,2,..,12};
  有4列，相当于每行放4个数，有12个数则可分为3行，若有13个数，则分为4行，13后面是3个0.

## 7.5二维数组的应用

例:从键盘上输入16个整数，保存在4×4的二维数组中，输出数组偶数行和偶数列中的所有元素。
如果输入为∶  0 1 2 3
						4 5 6 7
						8 9 10 11
						12 13 14 15

```c
#include <stdio.h>
main()
{ 
	int i,j;
	int a[4][4];
	for(i=0;i<4;i++)
		for(j=0;j<4;j++)
			scanf("%d",&a[i][j]);
	for(i=0;i<4;i++)
	{
		for(j=0;j<4;j++)
			if (i%2==0 ||j%2==0)
				printf("%-4d",a[i][j]);
			printf("\n");
	}
}
```

输入结果为 0 1 2 3
                    4   6
                    8 9 10 11
                    12   14

![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094722.png)

```c
#define M 4 
#define N 4
#include<stdio.h>
main()
{
	int i,j;
	int a[M][N]={{1,2,3,4},{5,6,7,8},{9,10,11,12},{13,14,15,16}};
	int b[M][N];
	for(i=0;i<M;i++)
		for(j=0;j<N;j++)
			b[i][j]=a[j][i];
	for(i=0;i<M;i++)
	{
		for(j=0;j<N;j++)		
			printf("%5d",b[i][j]);
		printf("\n");
	}
}
```

## 7.6数组下标越界访存问题

C语言中，数组元素表述常常会出现下标越界，有些越界情况是可以被接受的，但是有些越界情况是不允许的。

例如：int a[3] [4]中，a[0] [4],a[1] [5],是被允许的，但是a[2] [4]不被允许。
![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094727.png)

## 7.7字符数组的定义及初始化和输入输出

#### 7.7.1字符数组的定义

- c语言没有有专门的字符串变量数据类型，而是用字符数组来处理字符串类型数据。
  用来存放字符型数据的数组称为字符数组

- C编译器遇到长度为n的字符串，会为它分配长度为n+1的存储空间，要存储一个额外的字符串结束标志字符‘\0’，即一个ASCII码值为0的空字符。
- C语言用字符串结束标志'\0'测定字符串的有效长度，即在第一个'\0'之前的字符个数就是字符串的有效长度。

#### 7.7.2字符数组的初始化

- 把字符串直接作为初始化式
  char str[10]={"A and B"};
  存储形式为
  ![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094736.png)
  若长度不够，则用\0补上
- 单个字符组成初始化式
  在上例中，"A and B"以字符串形式出现，实际上C编译器会把它看成是数组初始化式的缩写形式，即可以写成︰
  ![](E:\TyporaMakedown文件\C语言复习\C语言照片\第七章同类型数据的处理—数组\7.7.2.2.png)
- 在定义字符数组时省略数组长度
  此时编辑器会自动计算长度(包括自动加的’\0‘的长度)。
- 省略数组长度并赋初值时没有指定'\0'
  此时系统不会自动在末尾添加'\0'，但此时的数组仅为字符型数组，不能作为字符串使用，再输出字符串时就会出现错误，所以若需要当作字符串数组来使用，则需要在赋初值时在初始化式末尾添加'\0'。
- 初值中含有多个'\0'
  输出字符串时，遇到第一个'\0'就结束。
- 初始化式大于字符数组长度
  这对字符串而言是非法的，编译器不会试图去保留多出的字符。然而，C允许初始化式（不包括空字符）与数组长度相同。
- 字符数组中的数据存储时不必要以’\0‘结尾

#### 7.7.3字符数组的输入输出

- 字符数组的输入输出有两种方法：

  1. 逐个字符输入输出

     对字符数组中字符串的操作可通过使用“%c”格式控制方式逐个输入输出数组元素。

     ```c
     #include <stdio.h>
     int main()
     {
     	char c[7]= "A and B";
     	int i;
     	for(i=0;i<7;i++)
     		printf("%c",c[i]);
     	return 0;
     )
     
     ```

     逐个输出字符数组中的字符串

     下图例子是将“*”按字符逐个输出。

     ![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094742.png)

     

  2. 整个字符串一次性输入输出
     将字符数组中的字符串作为一个整体来操作。
     (1)在printf和scanf函数中使用“%s”格式控制
     ![](https://raw.githubusercontent.com/gzw020307/Typora-s-Images/main/img/20210209094749.png)

     在scanf函数中使用"%s"格式控制输入字符串时，字符串中不能含有空白字符，否则将以空白字符作为串的结束符。

     (2)用gets和puts函数输入输出字符串

     ①输入函数gets格式如下：
     gets(字符数组名)
     功能：从标准输入设备上输入一个字符串。
     gets函数会在末尾保存一个’\0‘
     注意：再把字符读入数组时，scanf函数和gets函数都无法检测数组何时被填满，存储字符时可能越过数组的边界。

     ②输出函数puts格式如下:
     puts (字符数组名)
     功能∶把字符数组中的字符串输出到标准输出设备上，并用‘\n'取代字符串的结束标志'\0'。用puts()函数输出字符串时，可以不另加换行符。

